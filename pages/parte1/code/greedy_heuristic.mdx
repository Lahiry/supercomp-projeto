import Bleed from 'nextra-theme-docs/bleed'
import Callout from 'nextra-theme-docs/callout'

# Heur√≠stica Gulosa

Neste arquivo implementada a *heur√≠stica gulosa* para o problema de escalonamento de fimes.
Esta heur√≠stica √© uma heur√≠stica de constru√ß√£o que consiste em escolher a melhor op√ß√£o local a cada passo, at√© que n√£o haja mais op√ß√µes dispon√≠veis.
Mais especificamente, a heur√≠stica gulosa primeiramente ordena todos por horario final de exibi√ß√£o crescente e depois adiciona o filme que inicia mais cedo e que n√£o conflita com nenhum outro filme j√° adicionado.

## class Greedy

Abaixo temos o arquivo `greedy.hpp` que contem a classe `Greedy` e herda da classe `Scheduler`:
```cpp
#pragma once

#include "scheduler/scheduler.hpp"

class Greedy : public Scheduler
{
public:
    void scheduleMovies();
    void generateOutput();
};
```

Este arquivo conta com todas as fun√ß√µes-membro da super-classe `Scheduler` e tamb√©m com as seguintes fun√ß√µes-membro:

- `void scheduleMovies()`: fun√ß√£o que implementa a heur√≠stica gulosa para o problema de escalonamento de filmes;
- `void generateOutput()`: fun√ß√£o que gera o arquivo de sa√≠da com o resultado da heur√≠stica gulosa.

A fun√ß√£o `void scheduleMovies()` nesse caso √© muito simples, pois para todos os filmes coletados pela fun√ß√£o `void readMoviesCatalog()` da super-classe `Scheduler`, ela verifica se o filme √© v√°lido e se for, adiciona o filme √† agenda de filmes.


<Callout emoji="üëÄ" title="Observa√ß√£o">
    Confira o c√≥digo completo abaixo:
</Callout>

```cpp
#include "greedy.hpp"
#include <chrono>
#include <iostream>

void Greedy::scheduleMovies()
{
    int *i = new int(-1);
    while (++*i < *this->movies)
        if (this->movieIsValid(this->moviesList[*i]))
            this->addMovieToAgenda(this->moviesList[*i]);
    delete i;
}

void Greedy::generateOutput()
{
    this->readMoviesCatalog();
    auto start = std::chrono::high_resolution_clock::now();
    this->scheduleMovies();
    auto finish = std::chrono::high_resolution_clock::now();
    std::chrono::duration<double> elapsed = finish - start;
    std::cout << 0 << ' ' << *this->movies << ' ' << *this->categories << ' ' << *this->acceptedMoviesCount << ' ' << elapsed.count() << '\n';
}
```